<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>API Documentation</title>

    <link href="../stylesheets/screen.css" rel="stylesheet" type="text/css" media="screen" />
    <link href="../stylesheets/print.css" rel="stylesheet" type="text/css" media="print" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.0/jquery.min.js"></script>
      <script src="../javascripts/all_nosearch.js" type="text/javascript"></script>

  </head>

  <body class="ko ko_quickstart">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="../images/navbar.png" />
      </span>
    </a>
    <div class="tocify-wrapper">
      <a href="#"> <img src="../images/logo.png" /></a>
      <div id="toc">
      </div>
+-
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='퀵스타트-가이드'>퀵스타트 가이드</h1><h2 id='개요'>개요</h2>
<p><em>퀵스타트 가이드</em>는 PallyCon Service에서 제공하는 샘플 사용법에 대한 가이드입니다. 간단한 웹 페이지에서 PallyCon Player (Mobile, Web)를 호출하여 스트리밍 재생을 하거나 다운로드 후 로컬 재생하는 것을 확인 하실 수 있습니다. </p>

<p>샘플은 아래의 링크에서 다운로드 받으실 수 있습니다.</p>

<p><i class="icon-folder-open"></i> <a href="http://www.pallycon.com/developer/PallyCon_QuickStartSample.zip">샘플 다운로드</a></p>

<p>이 샘플을 적용하면서 PallyCon Service를 적용하는데 어떤 작업이 필요하고, 어떤 형태로 서비스가 되는지에 대하여 이해하실 수 있습니다. </p>
<h3 id='필요조건'>필요조건</h3>
<p>샘플을 구축하여 간단하게 구동하고, 서비스 조회까지 해보기 위해서는 가입 후 <strong>서비스 사이트 신청</strong>까지 되어야합니다. 서비스 사0이트가 성공적으로 신청되면, 서비스 사이트에 해당하는 Site ID와 Site Key, Packager Key를 확인할 수 있습니다. </p>

<p>샘플 페이지들은 .jsp로 구성되어 있습니다. 이 페이지를 수정하고, 사용하기 위해서는 Java와 Tomcat이 필요합니다. 
Java 6 (1.6)와 Java 7 (1.7) 응용 프로그램 및 서버 환경에서 Java를 배포 지원하는 Java 런타임 환경 (JRE)를 설치해야 합니다.</p>

<p>Java와 Tomcat를 다운받기 위해선 아래 링크를 통해 다운로드가 가능합니다.</p>

<ul>
<li>Java: <a href="http://www.oracle.com/technetwork/java/javase/downloads/index.html">http://www.oracle.com/technetwork/java/javase/downloads/index.html</a></li>
<li>Tomcat: <a href="http://tomcat.apache.org">http://tomcat.apache.org</a></li>
</ul>
<h3 id='설치-파일-열기'>설치 파일 열기</h3>
<p>PallyCon_Sample.zip 구성은 다음과 같습니다. </p>

<table><thead>
<tr>
<th>Folders or Files</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>sample.war</td>
<td>샘플 소스가 있는 파일</td>
</tr>
<tr>
<td>CloudApplicationPackager.zip</td>
<td>Cloud Application Packager 파일</td>
</tr>
</tbody></table>
<h4 id='sample-war-구성'>Sample.war 구성</h4>
<table><thead>
<tr>
<th>Folders or Files</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>/src/aes/</td>
<td>aes256, base64encode  소스 샘플 파일이 있는 폴더</td>
</tr>
<tr>
<td>/images</td>
<td>content_list.jsp 페이지에서 사용하는 image 관련 파일 포함</td>
</tr>
<tr>
<td>/js</td>
<td>content_list.jsp 페이지에서 사용하는 jquery 관련 파일 포함</td>
</tr>
<tr>
<td>/WEB-INF/classes/aes/</td>
<td>aes256 class sample, base64encode class sample</td>
</tr>
<tr>
<td>/WEB-INF/lib</td>
<td>sample에 필요한 jar 파일</td>
</tr>
<tr>
<td>/ServiceSite/aes_ok.jsp</td>
<td>파라미터를 aes256 암호화 하는 페이지 파일</td>
</tr>
<tr>
<td>/ServiceSite/service_manager.jsp</td>
<td>Mobile Service Site 페이지 파일</td>
</tr>
<tr>
<td>/ServiceSite/service_manager_pc.jsp</td>
<td>PC Service Site 페이지 파일( Bookmark, LMS 정보 처리 포함 )</td>
</tr>
<tr>
<td>/ServiceSite/config.jsp</td>
<td>샘플을 실행시키기 위한 config 파일</td>
</tr>
<tr>
<td>/ServiceSite/content_list.jsp</td>
<td>Mobile Web sample 페이지 파일</td>
</tr>
<tr>
<td>/ServiceSite/content_list_pc.jsp</td>
<td>PC Web sample 페이지 파일</td>
</tr>
<tr>
<td>/CIDIssue_RightsInfo/CIDIssue.jsp</td>
<td>CID 발급 페이지 파일</td>
</tr>
<tr>
<td>/CIDIssue_RightsInfo/ContentUsageRightsInfo.jsp</td>
<td>콘텐츠 사용 권한 정보 페이지(Content Usage Rights Info gateway) 파일</td>
</tr>
</tbody></table>
<h4 id='cloudapplicationpackager-zip-구성'>CloudApplicationPackager.zip 구성</h4>
<table><thead>
<tr>
<th>Folders or Files</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td>Bin/PallyCon_packager.exe</td>
<td>프로그램 실행 파일</td>
</tr>
<tr>
<td>Bin/Setting.ini,images</td>
<td>프로그램을 실행하는데 필요한 파일</td>
</tr>
<tr>
<td>Release_Note.txt</td>
<td>이번 버전에서 변경된 사항 기술</td>
</tr>
</tbody></table>
<h2 id='설치-및-콘텐츠-준비'>설치 및 콘텐츠 준비</h2>
<p>PallyCon Service에서 제공하는 샘플파일을 이용하여 간단하게 서비스를 구축하기 위한, 과정에 대하여 설명합니다. </p>
<h3 id='파일-설치하고-내용-수정하기'>파일 설치하고, 내용 수정하기</h3><h4 id='step1-web-페이지-복사'>Step1: Web 페이지 복사</h4>
<p>sample 파일 압축 해제 후 war 파일을  tomcat manager를 통해 웹서버에 올립니다. </p>
<h4 id='step2-config-jsp-파일-수정'>Step2: config.jsp 파일 수정</h4>
<p><strong>config.jsp 파일의 수정은 PC / Mobile에 공통으로 영향을 주는 값들에 대한 수정입니다.</strong> </p>
<h5 id='aes256-configration-emaes-key-configem'>aes256 configration (<em>aes key config</em>)</h5>
<p>key를 PallyCon CP Admin에서 확인이 가능한  Site Key 로 변경하여 세팅합니다. <strong>AES256 암호화 및 복호화에 Site Key와 함께 사용되는 Initial Vector는 고정값으로 사용됩니다. (Initial Vector: <em>1234567890abcdef</em>)</strong></p>
<h5 id='content-usage-info-page-emgateway-configem'>Content Usage Info Page (<em>gateway config</em>)</h5>
<p>DRM이 적용된 컨텐츠를 사용하기 위한 라이선스 정보를 설정합니다. <code class="prettyprint">LIMIT</code>, <code class="prettyprint">PD_START</code>, <code class="prettyprint">PD_END</code>, <code class="prettyprint">PD_COUNT</code> 값을 아래와 같이 설정하여 라이선스 정보을 결정합니다. <strong>PallyCon Player(Mobile, PC)는 횟수제가 설정된 라이선스에 대한 재생 처리는 지원하지 않습니다.</strong></p>

<table><thead>
<tr>
<th>License Rules</th>
<th>LIMIT</th>
<th>PD_START</th>
<th>PD_END</th>
<th>COUNT</th>
</tr>
</thead><tbody>
<tr>
<td><strong>횟수제</strong></td>
<td>Y</td>
<td>Empty</td>
<td>Empty</td>
<td>0 보다 큰 값</td>
</tr>
<tr>
<td><strong>기간제</strong></td>
<td>Y</td>
<td>PD_END보다 이전 날짜</td>
<td>PD_START보다 이후 날짜</td>
<td>Empty</td>
</tr>
<tr>
<td><strong>기간제+횟수제</strong></td>
<td>Y</td>
<td>PD_END보다 이전 날짜</td>
<td>PD_START보다 이후 날짜</td>
<td>0 보다 큰 값</td>
</tr>
<tr>
<td><strong>무제한</strong></td>
<td>N</td>
<td>Empty</td>
<td>Empty</td>
<td>Empty</td>
</tr>
</tbody></table>

<p>날짜: GMT (YYYY-MM-DDThh:mm:ss)</p>
<h5 id='content_list-configration-emcontent-list-configem'>content_list configration (<em>content list config</em>)</h5>
<p>DRM 컨텐츠 재생 및 다운로드시 필요한 정보를 세팅 합니다. </p>

<ul>
<li><strong>sSite_ID:</strong> PallyCon admin 페이지에 발급되어있는 siteID</li>
<li><strong>sSite_Url:</strong> 현재 서버 IP 및 domain</li>
<li><strong>sFilename1:</strong> 첫 번째 목록의 콘텐츠 filename과 확장자 (원본/DRM)</li>
<li><strong>sFilename2:</strong> 두 번째 목록의 콘텐츠 filename과 확장자 (원본/DRM)</li>
<li><strong>sFilename3:</strong> 세 번째 목록의 콘텐츠 filename과 확장자 (원본/DRM)</li>
</ul>

<p>기타 메타데이터는 <code class="prettyprint">sCategory_name</code>, <code class="prettyprint">sCategory_teacher</code>, <code class="prettyprint">Content_name1</code>, <code class="prettyprint">Content_name2</code>, <code class="prettyprint">Content_name3</code>의 수정을 통해 설정할 수 있습니다. </p>
<h5 id='언어-설정하기'>언어 설정하기</h5>
<p><code class="prettyprint">sLanguage</code>의 값으로 언어 설정을 합니다. 언어 지원은 한국어(KR), 영어(EN)가 지원됩니다. </p>
<h4 id='step3-pallycon-cp-admin에-url-세팅'>Step3: PallyCon CP Admin에 URL 세팅</h4>
<p>PallyCon CP Admin에 Content ID Issue Page URL으로 CIDIssue.jsp의 URL 을 설정하고, Content Usage Rights Info Page URL으로 ContentUsageRightsInfo.jsp의 URL을 설정합니다. </p>

<ul>
<li><em>CIDIssue.jsp</em>의 URL: <a href="http://IP:8080/sample/CIDIssue_RightsInfo/CIDIssue.jsp">http://IP:8080/sample/CIDIssue_RightsInfo/CIDIssue.jsp</a></li>
<li><em>ContentUsageRightsInfo.jsp</em>의 URL: <a href="http://IP:8080/sample/CIDIssue_RightsInfo/ContentUsageRightsInfo.jsp">http://IP:8080/sample/CIDIssue_RightsInfo/ContentUsageRightsInfo.jsp</a></li>
</ul>
<h3 id='packaging-drm-콘텐츠-준비하기'>Packaging, DRM 콘텐츠 준비하기</h3>
<p>Packager을 통해 원본컨텐츠를 암호화하여 <code class="prettyprint">.ncg</code> 파일로 패키징 할 수 있습니다.</p>
<h4 id='step1-packager-실행'>Step1: Packager 실행</h4>
<ol>
<li>첨부된 CloudApplicationPackager.zip 파일 압축을 풉니다.</li>
<li>PallyCon_Packager.exe 파일을 실행시킵니다.</li>
</ol>
<h4 id='step2-packager-세팅'>Step2: Packager 세팅</h4>
<p>PallyCon CP Admin에서 확인이 가능한 Site ID 와 Packager Key를 입력합니다.</p>

<p><img alt="packaging" src="../images/Packaging_Setting-Packaging.png" /> </p>
<h4 id='step3-packaging'>Step3: Packaging</h4>
<p>테스트 할 MP4파일 3개를 선택 후 start packaging 버튼을 클릭하여 파일을 Packaging 합니다. (<em>8번 버튼 클릭</em>)</p>

<p><img alt="apppackager" src="../images/Packaging_CloudApplicationPackager_Main.png" /> </p>
<h4 id='step4--packaging-완료된-콘텐츠-파일-세팅'>Step4. Packaging 완료된 콘텐츠 파일 세팅</h4>
<p>Packaging이 완료되면 원본콘텐츠(MP4)는 DRM콘텐츠(NCG)로 변환됩니다. </p>

<ol>
<li>DRM 콘텐츠를 <code class="prettyprint">/$TOMCAT_HOME/webapp/sample/ServiceSite/cont</code>에 위치 시킵니다.</li>
<li>해당 콘텐츠 파일명을 <strong>config.jsp의 sFilename1,2,3 값으로 변경</strong>합니다.</li>
</ol>
<h2 id='구동시키기'>구동시키기</h2><h3 id='pallycon-mobile-player-설치하기'>PallyCon Mobile Player 설치하기</h3>
<p>PallyCon Mobile Player는 앱 스토어나 구글 플레이를 통해 설치할 수 있습니다. </p>

<p><a href="https://itunes.apple.com/kr/app/pallycon-player/id918473490?mt=8"><img src="../images/appstore_logo.png" width="200"></a>
<a href="https://play.google.com/store/apps/details?id=com.inka.pallycon.pallyconplayer"><img src="../images/google_play_logo.png" width="200"></a></p>

<p><strong>PallyCon PC Web Player</strong>는 URL을 호출하여 팝업으로 Player를 실행하는 구조로 되어 있습니다. URL은 PC Web sample 페이지에 링크되어 있어 별도로 설치할 필요가 없습니다. </p>
<h3 id='스트리밍-다운로드-로컬-재생하기'>스트리밍, 다운로드, 로컬 재생하기</h3>
<p>PallyCon Player는 Mobile/PC Web Browser 에서 호출하여 사용하는 방법으로 구동됩니다. </p>
<h4 id='스트리밍'>스트리밍</h4>
<p>PC/Mobile Web sample 페이지에서 Play 버튼을 터치하면 각 PallyCon Player를 호출하여  스트리밍을 시작합니다. </p>
<h4 id='mobile-다운로드'>[Mobile] 다운로드</h4>
<p>Mobile Web sample 페이지에서 Download 버튼을 터치하면 PallyCon Mobile Player를 호출하여 다운로드를 시작합니다. </p>
<h4 id='mobile-로컬-재생'>[Mobile] 로컬 재생</h4>
<p>다운로드된 DRM 콘텐츠는 리스트에서 확인할 수 있습니다. 리스트에서 원하는 콘텐츠를 터치하면, 로컬 재생을 시작합니다. </p>
<h3 id='사용-내역-조회하기'>사용 내역 조회하기</h3>
<p>간단히 적용하여 테스트 하면서 발급받은 Licnese와 Packaging된 콘텐츠에 대한 정보를 PallyCon CP Admin  페이지에서 조회할 수 있습니다. </p>

<aside class="success">Starter로 시작하면, 100개까지의 License는 무료로 발급받아 사용할 수 있습니다. 그 이상의 License는 받을 수 없으며, 유료로 전환해야 그 이상의 License를 발급받을 수 있습니다. </aside>  

<p><strong>Revision History</strong></p>

<p>이 테이블은 Quick 가이드의 수정사항에 대해 설명한 것입니다.</p>

<table><thead>
<tr>
<th style="text-align: left">Date</th>
<th style="text-align: left">Detail</th>
</tr>
</thead><tbody>
<tr>
<td style="text-align: left">2014.08.28</td>
<td style="text-align: left">Quick Guide 제작</td>
</tr>
<tr>
<td style="text-align: left">2014.12.09</td>
<td style="text-align: left">PallyCon PC Player 내용 추가</td>
</tr>
</tbody></table>

      </div>
      <div class="dark-box">
      </div>
    </div>
  </body>
</html>
